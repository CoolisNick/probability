<html>
<head>
  <title>Probability Machine</title>
  <style>
    body, input { font-family: "Carbon Block"; font-size: 30px; color: #bae }
  </style>
</head>
<body>
  <form>
    <div>
      <label>Minimum</label>
      <input name="minimum" size=3></input>
    </div>
    <div>
      <label>Maximum</label>
      <input name="maximum" size=3></input>
    </div>
    <div>
      <label>Trials</label>
      <input name="trials" size=3></input>
    </div>
    <div>
      <input type="submit" value="Generate"></input>
    </div>
	<textarea readonly=true id="results" rows=16 cols=60></textarea>
  </form>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="URI.min.js"></script>
  <script>
    // Copy the queryparams into the input fields.
	var url = new URI(window.location);
	var query = url.query(true);
	$("input[name=minimum]").val(query.minimum);
	$("input[name=maximum]").val(query.maximum);
	$("input[name=trials]").val(query.trials);
	
	function generateRandomNumbers(min, max, trials) {
	  var result = [];
	  for (var trial = 0; trial < trials; trial++) {
	    var number = Math.floor(Math.random() * (max - (min - 1)) + min);
		result.push(number)
	  }
	  return result;
	}
	
	if (parseInt(query.trials) > 0) {
	  var numbers = generateRandomNumbers(parseInt(query.minimum), 
	                                      parseInt(query.maximum), 
										  parseInt(query.trials));
	  var numberString = numbers.join(" ");
	  $("#results").val(numberString);
	}
  </script>
</body>
</html>